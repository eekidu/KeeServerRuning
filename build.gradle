/*
 * This file was generated by the Gradle 'init' task.
 *
 * This is a general purpose Gradle build.
 * Learn how to create Gradle builds at https://guides.gradle.org/creating-new-gradle-builds/
 */


import okhttp3.*
import groovy.json.JsonSlurper
import okio.BufferedSink

import java.util.concurrent.TimeUnit


buildscript {
    repositories {
        maven() { url 'http://maven.aliyun.com/nexus/content/groups/public/' }
    }
    dependencies {
        //https://github.com/square/okhttp
        classpath "com.squareup.okhttp3:okhttp:3.10.0"
    }
}
apply from: "./android/dependencies.gradle"
apply from: "./android/ci/auto_update_dp_version.gradle"
apply from: "./android/ci/update_file_script.gradle"

//apply from: "/Users/kee/WorkSpace/other/KeeServerRuning/android/gitutil.gradle"


task TestMain(group: "upload") {
    doLast {
//       GitHub 触发CI测试更新 github.kuan:commdp:1.0.9
//        update_ver("github.kuan",
//                "commdp",
//                "1.0.9")

//        def targetFile = file("./android/app_component.gradle")
//        update_ver_file(targetFile, "github.kuan:commdp:v1.0")
//        println(get_GitBranch())

        println("测试执行!")
    }
}

task clean(type: Delete) {
    delete rootProject.buildDir
}





